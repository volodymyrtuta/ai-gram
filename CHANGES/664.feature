Reworked outer middleware chain. Prevent to call many times the outer middleware for each nested router
